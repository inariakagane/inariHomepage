<html>
    <head>
		<meta charset="UTF-8">
		<link rel="icon" type="image/png" href="../static/inari_heart.png"/>
        <link rel="stylesheet" href="./style.css">
		<title>Inari Akagane</title>
    </head>
    <body>
        <div id="bg">
            <canvas id="aCanvas"></canvas>
            <div id="centerSpread">
                <div id="title">
                    Homepage of Inari Akagane!
                </div>
                <br>
                <div id="twitch-embed"></div>
                <script src="https://embed.twitch.tv/embed/v1.js"></script>
                <script type="text/javascript">
                    const emb = new Twitch.Embed("twitch-embed", {
                        width: '100%',
                        height: '300px',
                        channel: "inari_akagane",
                        muted: true,
                        parent: ["inariakagane.com"],
                    });
                    emb._iframe.style.height = "calc((100% - 3em) / 2)";
                </script>
                <div id="linkContainer">
                    <a href="./gallery.html">
                        <div class="link">
                            Art Gallery
                        </div>
                    </a>
                    <a href="https://www.twitch.tv/inari_akagane" target="_blank">
                        <div class="link">
                            Twitch
                        </div>
                    </a>
                    <a href="https://www.youtube.com/channel/UCiQwGrYhtkUw1GZ2jzTULLg" target="_blank">
                        <div  class="link">
                            YouTube
                        </div>
                    </a>
                    <a href="https://twitter.com/inari_akagane" target="_blank">
                        <div  class="link">
                            Twitter
                        </div>
                    </a>
                    <a href="https://www.tiktok.com/@inari_akagane" target="_blank">
                        <div  class="link">
                            TikTok
                        </div>
                    </a>
                    <a href="./halloween/index.html">
                        <div  class="link">
                            Halloween Art Page
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </body>
    <script>
        const texts = [];
        class TextScroll {
            constructor(text, y, speed) {
                this.text = text;
                this.y = y;
                this.x = -1 * ctx.measureText(text).width;
                this.speed = speed;
            }
        }
        const canvas = document.getElementById("aCanvas");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const ctx = canvas.getContext('2d');
        ctx.font = "1em Courier New";
        ctx.fillStyle = "rgba(0, 255, 0, 0.125)";
        requestAnimationFrame(animate);
        const possibleText = [
            "Hello, world!",
            "console.log('Doot');",
            "map.reduce",
            "< search.txt grep -i \"Inari Akagane\""
        ];
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            if(Math.random() < 0.5) {
                texts.push(new TextScroll(possibleText[Math.floor(Math.random() * possibleText.length)], Math.random() * canvas.height, 2.5 + Math.random() * 2.5));
            }
            for(const text of texts) {
                ctx.fillText(text.text, text.x, text.y);
                text.x += text.speed;
            }
            for(const text of texts) {
                if(text.x >= canvas.width) {
                    texts.splice(texts.indexOf(text), 1);
                }
            }
            requestAnimationFrame(animate);
        }
    </script>
</html>
